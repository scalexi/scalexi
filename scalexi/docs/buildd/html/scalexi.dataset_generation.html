<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>scalexi.dataset_generation package &mdash; scalexi 0.1.1 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=a58bc63e"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="scalexi.doument_loaders package" href="scalexi.doument_loaders.html" />
    <link rel="prev" title="scalexi Package" href="scalexi.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            scalexi
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="modules.html">scalexi</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">DEV</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="scalexi.html">scalexi Package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="scalexi.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">scalexi.dataset_generation package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-scalexi.dataset_generation.prompt_completion">Prompt Completion Module [prompt_completion]</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-scalexi.dataset_generation">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="scalexi.doument_loaders.html">scalexi.doument_loaders package</a></li>
<li class="toctree-l3"><a class="reference internal" href="scalexi.tests.html">scalexi.tests package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="scalexi.html#module-scalexi">Module contents</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">scalexi</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="modules.html">scalexi</a></li>
          <li class="breadcrumb-item"><a href="scalexi.html">scalexi Package</a></li>
      <li class="breadcrumb-item active">scalexi.dataset_generation package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/scalexi.dataset_generation.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="scalexi-dataset-generation-package">
<h1>scalexi.dataset_generation package<a class="headerlink" href="#scalexi-dataset-generation-package" title="Link to this heading"></a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading"></a></h2>
</section>
<section id="module-scalexi.dataset_generation.prompt_completion">
<span id="prompt-completion-module-prompt-completion"></span><h2>Prompt Completion Module [prompt_completion]<a class="headerlink" href="#module-scalexi.dataset_generation.prompt_completion" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="scalexi.dataset_generation.prompt_completion.df_to_csv">
<span class="sig-name descname"><span class="pre">df_to_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_file</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scalexi.dataset_generation.prompt_completion.df_to_csv" title="Link to this definition"></a></dt>
<dd><section id="append-a-dataframe-to-a-csv-file-or-creates-a-new-one-if-it-doesn-t-exist">
<h3>Append a DataFrame to a CSV file or creates a new one if it doesn’t exist.<a class="headerlink" href="#append-a-dataframe-to-a-csv-file-or-creates-a-new-one-if-it-doesn-t-exist" title="Link to this heading"></a></h3>
<p>This function is specifically designed to handle the persistence of data in pandas DataFrame format. If the specified CSV file does not exist, it will create a new one and add a header. If the file does exist, it will simply append the data from the DataFrame without adding another header, ensuring data continuity and avoiding redundancy.</p>
</section>
<section id="parameters">
<h3>Parameters:<a class="headerlink" href="#parameters" title="Link to this heading"></a></h3>
<blockquote>
<div><dl class="simple">
<dt>output_file (str): </dt><dd><p>The target file path where the DataFrame data should be written or appended.</p>
</dd>
<dt>df (pandas.DataFrame): </dt><dd><p>The data in DataFrame format that needs to be persisted to the CSV file.</p>
</dd>
</dl>
</div></blockquote>
</section>
<section id="note">
<h3>Note:<a class="headerlink" href="#note" title="Link to this heading"></a></h3>
<blockquote>
<div><p>Existing data in the CSV file will not be overwritten. Instead, new data will be appended to ensure no data loss.</p>
</div></blockquote>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scalexi.dataset_generation.prompt_completion.df_to_json">
<span class="sig-name descname"><span class="pre">df_to_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">json_output</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scalexi.dataset_generation.prompt_completion.df_to_json" title="Link to this definition"></a></dt>
<dd><p>Converts a DataFrame to JSON and saves it to a file.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>df (pandas.DataFrame): The DataFrame to convert and save.
json_output (str): The path to the output JSON file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scalexi.dataset_generation.prompt_completion.format_prompt_completion">
<span class="sig-name descname"><span class="pre">format_prompt_completion</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prompt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">completion</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_sequence</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'\n\n###\n\n'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_sequence</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'END'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scalexi.dataset_generation.prompt_completion.format_prompt_completion" title="Link to this definition"></a></dt>
<dd><section id="formats-a-given-prompt-and-its-corresponding-completion-into-a-structured-dictionary-format">
<h3>Formats a given prompt and its corresponding completion into a structured dictionary format.<a class="headerlink" href="#formats-a-given-prompt-and-its-corresponding-completion-into-a-structured-dictionary-format" title="Link to this heading"></a></h3>
<p>This function is designed to take a user-defined prompt and its associated completion and format them into a structured sequence. By default, the function uses specific start and end sequences to encapsulate the prompt-completion pair, but these can be customized as needed. Such structured formatting is essential when working with datasets for large language models, ensuring uniformity and ease of processing.</p>
</section>
<section id="id1">
<h3>Parameters<a class="headerlink" href="#id1" title="Link to this heading"></a></h3>
<blockquote>
<div><dl class="simple">
<dt>prompt (str): </dt><dd><p>The primary text or question that requires a completion. This serves as the context for the model.</p>
</dd>
<dt>completion (str): </dt><dd><p>The model’s response or answer to the given prompt. It completes the information or context provided by the prompt.</p>
</dd>
<dt>start_sequence (str, optional): </dt><dd><p>A sequence of characters that signifies the beginning of a new prompt-completion pair. It helps in demarcating different entries in a dataset. Defaults to “nn###nn”.</p>
</dd>
<dt>end_sequence (str, optional): </dt><dd><p>A sequence of characters that marks the end of a prompt-completion pair. Like the start sequence, it aids in distinguishing between different dataset entries. Defaults to “END”.</p>
</dd>
</dl>
</div></blockquote>
</section>
<section id="returns">
<h3>Returns<a class="headerlink" href="#returns" title="Link to this heading"></a></h3>
<blockquote>
<div><dl class="simple">
<dt>dict: </dt><dd><p>A dictionary containing the formatted prompt and completion. This structured output can be directly used for dataset creation or other related tasks.</p>
</dd>
</dl>
</div></blockquote>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scalexi.dataset_generation.prompt_completion.format_prompt_completion_df">
<span class="sig-name descname"><span class="pre">format_prompt_completion_df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prompt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">completion</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_sequence</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'\n\n###\n\n'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_sequence</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'END'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scalexi.dataset_generation.prompt_completion.format_prompt_completion_df" title="Link to this definition"></a></dt>
<dd><section id="formats-and-structures-a-given-prompt-and-its-completion-into-a-dataframe">
<h3>Formats and structures a given prompt and its completion into a DataFrame.<a class="headerlink" href="#formats-and-structures-a-given-prompt-and-its-completion-into-a-dataframe" title="Link to this heading"></a></h3>
<p>This function facilitates the organization of a user-defined prompt and its corresponding completion into a structured pandas DataFrame. Such organization is especially beneficial when handling, analyzing, or storing large datasets for machine learning tasks, ensuring a uniform and easily accessible data structure.</p>
</section>
<section id="id2">
<h3>Parameters:<a class="headerlink" href="#id2" title="Link to this heading"></a></h3>
<blockquote>
<div><dl class="simple">
<dt>prompt (str): </dt><dd><p>The initial text or question that is presented to a model or system. It provides context or a scenario which requires a subsequent completion or answer.</p>
</dd>
<dt>completion (str): </dt><dd><p>The subsequent text or response that corresponds to the prompt. It provides additional information or a resolution to the context given by the prompt.</p>
</dd>
<dt>start_sequence (str, optional): </dt><dd><p>A sequence of characters that denotes the beginning of the prompt. It helps segment and recognize the start of a data entry in larger datasets. Defaults to “nn###nn”.</p>
</dd>
<dt>end_sequence (str, optional): </dt><dd><p>A sequence of characters that indicates the conclusion of the completion. It assists in segmenting and marking the end of a data entry in larger datasets. Defaults to “END”.</p>
</dd>
</dl>
</div></blockquote>
</section>
<section id="id3">
<h3>Returns:<a class="headerlink" href="#id3" title="Link to this heading"></a></h3>
<blockquote>
<div><dl class="simple">
<dt>pandas.DataFrame: </dt><dd><p>A DataFrame containing two columns: ‘Prompt’ and ‘Completion’. This structured output facilitates easier data manipulation, analysis, and storage.</p>
</dd>
</dl>
</div></blockquote>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scalexi.dataset_generation.prompt_completion.generate_prompt_completions">
<span class="sig-name descname"><span class="pre">generate_prompt_completions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">context_text</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_csv</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">system_prompt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'You</span> <span class="pre">are</span> <span class="pre">an</span> <span class="pre">assistant</span> <span class="pre">to</span> <span class="pre">create</span> <span class="pre">prompt</span> <span class="pre">and</span> <span class="pre">completions</span> <span class="pre">from</span> <span class="pre">a</span> <span class="pre">context.</span> <span class="pre">\n</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">Return</span> <span class="pre">prompt</span> <span class="pre">and</span> <span class="pre">completion</span> <span class="pre">as</span> <span class="pre">a</span> <span class="pre">JSON</span> <span class="pre">ARRAY</span> <span class="pre">structure:\n&quot;\n</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">```json\n\n</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">[\n\n</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">{&quot;prompt&quot;:</span> <span class="pre">&quot;question1&quot;,</span> <span class="pre">&quot;completion&quot;:</span> <span class="pre">&quot;answer1&quot;},\n\'\n</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">{&quot;prompt&quot;:</span> <span class="pre">&quot;question2&quot;,</span> <span class="pre">&quot;completion&quot;:</span> <span class="pre">&quot;answer2&quot;}\n\'\n</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">]\n&quot;\n</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">```\n&quot;\n</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user_prompt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">openai_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temperature</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'gpt-3.5-turbo'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_tokens</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1054</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">top_p</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frequency_penalty</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">presence_penalty</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retry_limit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_questions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">question_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'open-ended'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#scalexi.dataset_generation.prompt_completion.generate_prompt_completions" title="Link to this definition"></a></dt>
<dd><section id="crafts-and-records-prompt-completions-using-openai-api">
<h3>Crafts and Records Prompt Completions Using OpenAI API.<a class="headerlink" href="#crafts-and-records-prompt-completions-using-openai-api" title="Link to this heading"></a></h3>
<p>This function harnesses the power of specified OpenAI models to generate prompt completions based on provided contexts. These completions are then systematically recorded to a CSV file for easy storage and retrieval. The process is highly customizable, with options to specify the model, set generation parameters, and define the type of questions to be generated.</p>
</section>
<section id="id4">
<h3>Parameters:<a class="headerlink" href="#id4" title="Link to this heading"></a></h3>
<blockquote>
<div><dl class="simple">
<dt>context_text (str): </dt><dd><p>The base text that provides the context for generating prompts.</p>
</dd>
<dt>output_csv (str): </dt><dd><p>Path where the generated completions will be saved in CSV format.</p>
</dd>
<dt>system_prompt (str, optional): </dt><dd><p>A lead-in prompt from the system to guide the generation. Defaults to an empty string.</p>
</dd>
<dt>user_prompt (str, optional): </dt><dd><p>The initial query or prompt from the user. Defaults to an empty string.</p>
</dd>
<dt>openai_key (str, optional): </dt><dd><p>API key to authenticate requests to the OpenAI service. Defaults to None.</p>
</dd>
<dt>temperature (float, optional): </dt><dd><p>Adjusts the randomness in the model’s output. Higher values make outputs more diverse, while lower values make them more deterministic. Defaults to 1.</p>
</dd>
<dt>model (str, optional): </dt><dd><p>Specifies which OpenAI model to utilize for generation. Defaults to “gpt-3.5-turbo”.</p>
</dd>
<dt>max_tokens (int, optional): </dt><dd><p>Restricts the length of the generated output. Defaults to 1054.</p>
</dd>
<dt>top_p (float, optional): </dt><dd><p>Controls the nucleus sampling. It narrows down the token choices to the top <cite>p</cite> tokens. Defaults to 1.</p>
</dd>
<dt>frequency_penalty (float, optional): </dt><dd><p>Adjusts the penalty for token frequency. Defaults to 0.</p>
</dd>
<dt>presence_penalty (float, optional): </dt><dd><p>Adjusts the penalty for token presence. Defaults to 0.</p>
</dd>
<dt>retry_limit (int, optional): </dt><dd><p>Caps the number of retry attempts in case of generation failures. Defaults to 3.</p>
</dd>
<dt>num_questions (int, optional): </dt><dd><p>Dictates the quantity of questions to be generated. Defaults to 3.</p>
</dd>
<dt>question_type (str, optional): </dt><dd><p>Defines the style or format of the questions. Examples include “open-ended”, “yes/no”, and “multiple-choice”. Defaults to “open-ended”.</p>
</dd>
</dl>
</div></blockquote>
</section>
<section id="id5">
<h3>Returns:<a class="headerlink" href="#id5" title="Link to this heading"></a></h3>
<blockquote>
<div><dl class="simple">
<dt>List[Dict[str, str]]:</dt><dd><p>A structured list where each dictionary has two keys: ‘prompt’ and ‘completion’, capturing the context and its corresponding generated completion, respectively.</p>
</dd>
</dl>
</div></blockquote>
</section>
<section id="id6">
<h3>Note:<a class="headerlink" href="#id6" title="Link to this heading"></a></h3>
<blockquote>
<div><p>Proper API key authorization is essential for successful completions. Ensure that the provided OpenAI key has the necessary permissions and quota.</p>
</div></blockquote>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scalexi.dataset_generation.prompt_completion.generate_user_prompt">
<span class="sig-name descname"><span class="pre">generate_user_prompt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_questions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">question_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#scalexi.dataset_generation.prompt_completion.generate_user_prompt" title="Link to this definition"></a></dt>
<dd><section id="crafts-an-initial-user-prompt-based-on-question-quantity-and-style">
<h3>Crafts an initial user prompt based on question quantity and style.<a class="headerlink" href="#crafts-an-initial-user-prompt-based-on-question-quantity-and-style" title="Link to this heading"></a></h3>
<p>This function meticulously crafts an initial prompt for users by taking into account both the quantity and style of questions desired. This tailored prompt aids in setting a clear context or direction for the subsequent interactions or data entries.</p>
</section>
<section id="id7">
<h3>Parameters:<a class="headerlink" href="#id7" title="Link to this heading"></a></h3>
<blockquote>
<div><dl class="simple">
<dt>num_questions (int): </dt><dd><p>The desired quantity of questions. This defines how many questions the prompt should cater to or anticipate.</p>
</dd>
<dt>question_type (str): </dt><dd><p>Specifies the style or format of the questions. Common types include “open-ended”, “yes/no”, and “multiple-choice”, among others.</p>
</dd>
</dl>
</div></blockquote>
</section>
<section id="id8">
<h3>Returns:<a class="headerlink" href="#id8" title="Link to this heading"></a></h3>
<blockquote>
<div><dl class="simple">
<dt>str: </dt><dd><p>A well-structured initial user prompt ready for presentation or processing.</p>
</dd>
</dl>
</div></blockquote>
</section>
<section id="id9">
<h3>Note:<a class="headerlink" href="#id9" title="Link to this heading"></a></h3>
<blockquote>
<div><p>The prompt generated is designed to be intuitive and clear, ensuring users understand the context and can respond effectively.</p>
</div></blockquote>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scalexi.dataset_generation.prompt_completion.list_to_csv">
<span class="sig-name descname"><span class="pre">list_to_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_file</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scalexi.dataset_generation.prompt_completion.list_to_csv" title="Link to this definition"></a></dt>
<dd><section id="saves-a-list-of-dictionaries-to-a-csv-file">
<h3>Saves a list of dictionaries to a CSV file.<a class="headerlink" href="#saves-a-list-of-dictionaries-to-a-csv-file" title="Link to this heading"></a></h3>
<p>This function provides a streamlined method to persistently store structured data, specifically a list of dictionaries, into a CSV format. Such serialization is instrumental when aiming to maintain data consistency, ensure data portability, or perform data interchange tasks.</p>
<p>Parameters:
———-`</p>
<blockquote>
<div><dl class="simple">
<dt>data_list (list of dict): </dt><dd><p>A list containing dictionaries. Each dictionary in the list represents a record, where keys correspond to column names and values to the data entries.</p>
</dd>
<dt>output_file (str): </dt><dd><p>The file path where the resulting CSV will be saved. If a file already exists at this path, it will be overwritten.</p>
</dd>
</dl>
</div></blockquote>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scalexi.dataset_generation.prompt_completion.parse_and_save_json">
<span class="sig-name descname"><span class="pre">parse_and_save_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">json_string</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scalexi.dataset_generation.prompt_completion.parse_and_save_json" title="Link to this definition"></a></dt>
<dd><section id="parses-a-json-formatted-string-and-persists-it-to-a-file-with-optional-context">
<h3>Parses a JSON-formatted string and persists it to a file with optional context.<a class="headerlink" href="#parses-a-json-formatted-string-and-persists-it-to-a-file-with-optional-context" title="Link to this heading"></a></h3>
<p>This function offers a two-fold utility: it first parses a given JSON-formatted string, transforming it into a structured data format, and then saves it into a JSON file. Additionally, users have the option to provide contextual data, which, if given, will be incorporated into the saved data, enriching the content.</p>
</section>
<section id="id10">
<h3>Parameters:<a class="headerlink" href="#id10" title="Link to this heading"></a></h3>
<blockquote>
<div><dl class="simple">
<dt>json_string (str): </dt><dd><p>A string formatted in JSON, representing structured data to be parsed.</p>
</dd>
<dt>output_file (str): </dt><dd><p>The destination file path where the parsed JSON data will be saved.</p>
</dd>
<dt>context (str, optional): </dt><dd><p>If provided, this context will be added to the parsed data, augmenting the information. Defaults to None.</p>
</dd>
</dl>
</div></blockquote>
</section>
<section id="id11">
<h3>Note:<a class="headerlink" href="#id11" title="Link to this heading"></a></h3>
<blockquote>
<div><p>If the <cite>context</cite> is provided, it is essential that it aligns with the structure or schema of the JSON string for consistency in the output file.</p>
</div></blockquote>
</section>
</dd></dl>

</section>
<section id="module-scalexi.dataset_generation">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-scalexi.dataset_generation" title="Link to this heading"></a></h2>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="scalexi.html" class="btn btn-neutral float-left" title="scalexi Package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="scalexi.doument_loaders.html" class="btn btn-neutral float-right" title="scalexi.doument_loaders package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Anis Koubaa.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>